{% extends "category_charts.html" %}


{% block breadcrumb %}{{ block.super }}
    <span class="navbar-text">&raquo;</span><a class="nav-link disabled" href="{% url 'reports:overall' %}">Owerall</a>
{% endblock breadcrumb %}


{% block content %}

<div class='row'>
    <div class='col'>
        <div id="my-chart"></div>

        <script>
            // console.log(data)
            Highcharts.setOptions({
                lang: {
                    thousandsSep: '.',
                    decimalPoint: ',',
                }
            });
            Highcharts.chart("my-chart", {
                chart : { type: 'column'},
                xAxis: {
                    categories: {{ chart.overall.xAxis }},
                },
                margin: 0,
                title: {
                    text: ''
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'km, thousants'
                    },
                },
                legend: {
                    align: 'right',
                    verticalAlign: 'middle',
                    shadow: false,
                    reversed: true,
                    layout: 'vertical',
                    itemMarginBottom: 10
                },
                tooltip: {
                    pointFormat: '{point.y:,.0f}',
                    formatter: function () {
                        return '<b>' + this.x + '</b><br/>' +
                            `${this.series.name}: ${Highcharts.numberFormat(this.point.y, 0)}<br/>` +
                            `Total: ${Highcharts.numberFormat(this.point.stackTotal, 0)}`;
                    }
                },
                plotOptions: {
                    column: {
                        stacking: 'normal',
                    }
                },
                series: {{ chart.overall.series|safe }},
            });
        </script>


    </div>
</div>
{% endblock content %}
