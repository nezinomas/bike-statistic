{% load slippers %}
{% load humanize%}
{% load template_filters %}

{% url 'goals:goal_update' object.pk as url_update %}
{% url 'goals:goal_delete' object.pk as url_delete %}
{% var row_id="row-id-"|join:object.pk %}
    {% with distances|get_item:object.year as d %}
<tr id="{{row_id}}" class="{% if d >= object.goal %}table-success{% else %}table-danger{% endif %}" hx-target="this" hx-swap="outerHTML" hx-trigger="click[ctrlKey]" hx-get="{{url_update}}">
    <td style="width:25%">{{ object.year }}</td>
    <td style="width:25%">{{ object.goal|intcomma }}</td>
    <td class="text-end"  style="width:25%">
        {% edit_button url=url_update label='True'  target=row_id swap='outerHTML' %}
        {% delete_button url=url_delete label='True' %}
    </td>

    <td  style="width:25%" class="text-end">{{ d|floatformat:0|intcomma }}</td>
</tr>{% endwith %}
