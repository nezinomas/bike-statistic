{% load slippers %}
{% load humanize%}
{% load template_filters %}

{% url 'goals:goal_update' object.pk as url_update %}
{% url 'goals:goal_delete' object.pk as url_delete %}

{% with distances|get_item:object.year as d %}
<tr class="{% if d >= object.goal %}tbl-success{% else %}tbl-danger{% endif %}" hx-target="#mainModal" hx-trigger="dblclick" hx-get="{{url_update}}">
    <td>{{ object.year }}</td>
    <td>{{ object.goal|intcomma }}</td>
    <td>{{ d|floatformat:0|intcomma }}</td>
    <td class="text-end">
        {% edit_button url=url_update target='mainModal' %}
        {% delete_button url=url_delete %}
    </td>

</tr>{% endwith %}
