{% load buttons %}{% load humanize %}
<table class="table table-striped table-hover table-md tbl-js" id="tbl-0">
    <thead class="thead-light">
        <tr>
            <th colspan="4"></th>
            <th colspan="2" class="text-center">Max Temp</th>
            <th colspan="2" class="text-center">Min Temp</th>
        </tr>
        <tr>
            <th width="120rem">Year</th>
            <th  width="120rem">Goal, km</th>
            <th class="text-right" width="100rem">Actions</th>
            <th class="pl-3">Distance</th>
            <th class="text-center">Date</th>
            <th class="text-center">Value</th>
            <th class="text-center">Date</th>
            <th class="text-center">Value</th>
        </tr>
    </thead>
    <tbody>
        {% for item in objects %}
        {% url 'goals:goals_update' item.year as url_update %}
        {% url 'goals:goals_delete' item.year as url_delete %}
        <tr id="row_id_{{ item.id }}" data-pk="{{ item.id }}" data-url="{{ url_update }}" data-tbl="0">
            <td>{{ item.year }}</td>
            <td>{{ item.goal|intcomma }}</td>
            <td class="text-right last">
                {% button_edit pk=item.id url=url_update tbl=0 %}
                {% button_delete type='button' pk=item.id url=url_delete tbl='0' %}
            </td>
            <td class="pl-3 {% if item.distance >= item.goal %}table-success{% else %}table-danger{% endif %}">{{ item.distance|floatformat:0|intcomma }}</td>
            <td class="text-center">{{ item.stats.max_temp_date|date:"Y-m-d" }}</td>
            <td class="text-center">{{ item.stats.max_temp_value }}</td>
            <td class="text-center">{{ item.stats.min_temp_date|date:"Y-m-d" }}</td>
            <td class="text-center">{{ item.stats.min_temp_value }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
